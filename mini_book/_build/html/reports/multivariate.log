Traceback (most recent call last):
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/jupyter_cache/executors/utils.py", line 56, in single_nb_execution
    record_timing=False,
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/nbclient/client.py", line 1082, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/nbclient/util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/nbclient/util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/asyncio/base_events.py", line 587, in run_until_complete
    return future.result()
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/nbclient/client.py", line 536, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/nbclient/client.py", line 827, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/opt/anaconda3/envs/qe-mini-example/lib/python3.7/site-packages/nbclient/client.py", line 735, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply['content'])
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import copy
import numpy as np
# åŠ è½½æ•°æ®
def loadDataSet(fileName):  # è§£ææ–‡ä»¶ï¼ŒæŒ‰tabåˆ†å‰²å­—æ®µï¼Œå¾—åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°å­—ç±»å‹çš„çŸ©é˜µ
    dataMat = []              # æ–‡ä»¶çš„æœ€åä¸€ä¸ªå­—æ®µæ˜¯ç±»åˆ«æ ‡ç­¾
    fr = open(fileName)
    for line in fr.readlines():
        curLine = line.strip().split('\t')
        fltLine = list(map(float, curLine))    # å°†æ¯ä¸ªå…ƒç´ è½¬æˆfloatç±»å‹
        dataMat.append(fltLine)
    return np.array(dataMat)

# è®¡ç®—æ¬§å‡ é‡Œå¾—è·ç¦»
def distEclud(vecA, vecB):
    return np.sqrt(np.sum(np.power(vecA - vecB, 2))) # æ±‚ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„è·ç¦»

# æ„å»ºèšç°‡ä¸­å¿ƒï¼Œå–kä¸ª(æ­¤ä¾‹ä¸­ä¸º4)éšæœºè´¨å¿ƒ
def randCent(dataSet, k):
    centroid = np.array(np.zeros((k,2)))   # æ¯ä¸ªè´¨å¿ƒæœ‰nä¸ªåæ ‡å€¼ï¼Œæ€»å…±è¦kä¸ªè´¨å¿ƒï¼Œæ­¤å¤„n
    for j in range(2):
        minJ = min(dataSet[:,j])
        maxJ = max(dataSet[:,j])
        rangeJ = float(maxJ - minJ)
        centroid[:,j] = minJ + rangeJ * np.random.rand(k)

    return centroid

# k-means èšç±»ç®—æ³•
def kMeans(dataSet, k, distMeans =distEclud, createCent = randCent):
    m = dataSet.shape[0];counts=[]
    clusterAssments=[];centroids=[]
    clusterAssment = np.array(np.zeros((m,2)))    # ç”¨äºå­˜æ”¾è¯¥æ ·æœ¬å±äºå“ªç±»åŠè´¨å¿ƒè·ç¦»
    # clusterAssmentç¬¬ä¸€åˆ—å­˜æ”¾è¯¥æ•°æ®æ‰€å±çš„ä¸­å¿ƒç‚¹ï¼Œç¬¬äºŒåˆ—æ˜¯è¯¥æ•°æ®åˆ°ä¸­å¿ƒç‚¹çš„è·ç¦»
    centroid = createCent(dataSet, k)
    clusterChanged = True   # ç”¨æ¥åˆ¤æ–­èšç±»æ˜¯å¦å·²ç»æ”¶æ•›
    while clusterChanged:
        clusterChanged = False
        count=0
        for i in range(m):  # æŠŠæ¯ä¸€ä¸ªæ•°æ®ç‚¹åˆ’åˆ†åˆ°ç¦»å®ƒæœ€è¿‘çš„ä¸­å¿ƒç‚¹
            minDist = np.inf; minIndex = -1;
            for j in range(k):
                distJI = distMeans(centroid[j,:], dataSet[i,:-1])
                if distJI < minDist:
                    minDist = distJI; minIndex = j  # å¦‚æœç¬¬iä¸ªæ•°æ®ç‚¹åˆ°ç¬¬jä¸ªä¸­å¿ƒç‚¹æ›´è¿‘ï¼Œåˆ™å°†iå½’å±ä¸ºj
            if clusterAssment[i,0] != minIndex: 
                clusterChanged = True;count+=1  # å¦‚æœåˆ†é…å‘ç”Ÿå˜åŒ–ï¼Œåˆ™éœ€è¦ç»§ç»­è¿­ä»£
                #print(clusterAssment[i,0],'-->',minIndex)
            clusterAssment[i,:] = minIndex,minDist**2   # å¹¶å°†ç¬¬iä¸ªæ•°æ®ç‚¹çš„åˆ†é…æƒ…å†µå­˜å…¥å­—å…¸

        for cent in range(k):   # é‡æ–°è®¡ç®—ä¸­å¿ƒç‚¹
            ptsInClust = dataSet[clusterAssment[:,0] == cent][:,:-1]   # å–ç¬¬ä¸€åˆ—ç­‰äºcentçš„æ‰€æœ‰åˆ—
            centroid[cent,:] = np.mean(ptsInClust, axis = 0)  # ç®—å‡ºè¿™äº›æ•°æ®çš„ä¸­å¿ƒç‚¹

        
        #æ­¤å¤„ä¸ºå‘
#         centroids.append(centroid)
#         clusterAssments.append(clusterAssment)
        if clusterChanged==True:
            centroids.append(copy.copy(centroid))
            clusterAssments.append(copy.copy(clusterAssment))
            counts.append(count)
    return centroids, clusterAssments,counts
# --------------------æµ‹è¯•----------------------------------------------------
# ç”¨æµ‹è¯•æ•°æ®åŠæµ‹è¯•kmeansç®—æ³•
datMat=loadDataSet('testSet.txt')
myCentroids,clustAssings,counts = kMeans(datMat,4)

#print("clusAssings",clustAssings)
print("counts",counts) # [58, 23, 3, 1]
import matplotlib.pyplot as plt
fig1=plt.figure(1,figsize=(15,30))
len_counts=int(len(counts)/2)+1
print(len_counts)

for i in range(len(counts)):
    
    ax=fig1.add_subplot(len_counts,2,i+1)
    s=clustAssings[i][:,0]+30
    c=clustAssings[i][:,0]+20
   
    ax.scatter(datMat[:,0],datMat[:,1],s,c) #så¤§å°ï¼Œcé¢œè‰²
    ax.scatter(myCentroids[i][:,0],myCentroids[i][:,1],s=150,c='r',marker='+')

plt.show()
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mFileNotFoundError[0m                         Traceback (most recent call last)
[0;32m<ipython-input-7-a036d7dcc390>[0m in [0;36m<module>[0;34m[0m
[1;32m     63[0m [0;31m# --------------------æµ‹è¯•----------------------------------------------------[0m[0;34m[0m[0;34m[0m[0;34m[0m[0m
[1;32m     64[0m [0;31m# ç”¨æµ‹è¯•æ•°æ®åŠæµ‹è¯•kmeansç®—æ³•[0m[0;34m[0m[0;34m[0m[0;34m[0m[0m
[0;32m---> 65[0;31m [0mdatMat[0m[0;34m=[0m[0mloadDataSet[0m[0;34m([0m[0;34m'testSet.txt'[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m     66[0m [0mmyCentroids[0m[0;34m,[0m[0mclustAssings[0m[0;34m,[0m[0mcounts[0m [0;34m=[0m [0mkMeans[0m[0;34m([0m[0mdatMat[0m[0;34m,[0m[0;36m4[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[1;32m     67[0m [0;34m[0m[0m

[0;32m<ipython-input-7-a036d7dcc390>[0m in [0;36mloadDataSet[0;34m(fileName)[0m
[1;32m      4[0m [0;32mdef[0m [0mloadDataSet[0m[0;34m([0m[0mfileName[0m[0;34m)[0m[0;34m:[0m  [0;31m# è§£ææ–‡ä»¶ï¼ŒæŒ‰tabåˆ†å‰²å­—æ®µï¼Œå¾—åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°å­—ç±»å‹çš„çŸ©é˜µ[0m[0;34m[0m[0;34m[0m[0m
[1;32m      5[0m     [0mdataMat[0m [0;34m=[0m [0;34m[[0m[0;34m][0m              [0;31m# æ–‡ä»¶çš„æœ€åä¸€ä¸ªå­—æ®µæ˜¯ç±»åˆ«æ ‡ç­¾[0m[0;34m[0m[0;34m[0m[0m
[0;32m----> 6[0;31m     [0mfr[0m [0;34m=[0m [0mopen[0m[0;34m([0m[0mfileName[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m      7[0m     [0;32mfor[0m [0mline[0m [0;32min[0m [0mfr[0m[0;34m.[0m[0mreadlines[0m[0;34m([0m[0;34m)[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m      8[0m         [0mcurLine[0m [0;34m=[0m [0mline[0m[0;34m.[0m[0mstrip[0m[0;34m([0m[0;34m)[0m[0;34m.[0m[0msplit[0m[0;34m([0m[0;34m'\t'[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m

[0;31mFileNotFoundError[0m: [Errno 2] No such file or directory: 'testSet.txt'
FileNotFoundError: [Errno 2] No such file or directory: 'testSet.txt'

